"use strict";var imgToBackground=function(){document.querySelectorAll(".ibg").forEach((function(e){e.querySelector("img")&&(e.style.backgroundImage="url("+e.querySelector("img").getAttribute("src")+")",e.querySelector("img").style.display="none")}))},burgerMenu=function(e){var t=document.querySelector(".burger"),n=document.querySelector(".".concat(e));n&&t.addEventListener("click",(function(){t.classList.toggle("is-active"),n.classList.toggle("is-shown"),document.querySelector("body").classList.toggle("lock")}))},sliders=function(){new Swiper(".slider-instructors__container",{loop:!0,navigation:{prevEl:".slider-instructors__arrow--prev",nextEl:".slider-instructors__arrow--next"},spaceBetween:48,slidesPerView:1,breakpoints:{767:{slidesPerView:2},992:{slidesPerView:3},1343:{slidesPerView:4}}}),new Swiper(".programs-slider__container",{loop:!0,pagination:{el:".programs-slider__pagination",type:"bullets"},spaceBetween:0,slidesPerView:1}),new Swiper(".slider-testimonials__container",{loop:!0,pagination:{el:".slider-testimonials__pagination",type:"bullets"},spaceBetween:60,slidesPerView:1,breakpoints:{1470:{slidesPerView:4},800:{slidesPerView:2},1200:{slidesPerView:3}}}),new Swiper(".slider-similars__container",{loop:!0,navigation:{nextEl:".slider-similars__arrow--next",prevEl:".slider-similars__arrow--prev"},spaceBetween:45,slidesPerView:1,breakpoints:{767:{slidesPerView:2},992:{slidesPerView:3},1343:{slidesPerView:4}}})},popups=function(){var e=document.querySelectorAll(".popup"),t=document.querySelectorAll(".js-popup-open"),n=document.querySelectorAll(".js-popup-close"),o=document.querySelectorAll(".lock-padding"),r=document.querySelector("body"),i=null,s=null,c=!1,l=!1;function u(e){if(!c){var t=document.querySelector(".popup.is-opened");t&&a(t,!1),e.scroll(0,0),e.classList.add("is-opened"),c=!0,i=window.innerWidth-document.querySelector(".wrapper").offsetWidth+"px",o.length>0&&o.forEach((function(e){e.style.paddingRight=i})),r.style.paddingRight=i,r.classList.add("lock")}}function a(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];c||(s=document.querySelector(".burger.is-active"),e.classList.remove("is-opened"),c=!0,t&&!s&&(l=!0))}t.length>0&&t.forEach((function(e){e.addEventListener("click",(function(t){t.preventDefault();var n=document.querySelector(e.getAttribute("href"));n&&u(n)}))})),n.length>0&&n.forEach((function(e){e.addEventListener("click",(function(t){t.preventDefault(),a(e.closest(".popup"))}))})),e.length>0&&(e.forEach((function(e){e.addEventListener("transitionend",(function(){c=!1,l&&(r.style.paddingRight="0px",r.classList.remove("lock"),o.length>0&&o.forEach((function(e){e.style.paddingRight="0px"})),l=!1)})),e.addEventListener("click",(function(e){e.target.closest(".popup__body")||a(e.target.closest(".popup.is-opened"))}))})),document.addEventListener("keydown",(function(e){if(27===e.which){var t=document.querySelector(".popup.is-opened");t&&a(t)}})))},formValidation=function(){document.querySelectorAll(".form").forEach((function(e){var t=new Pristine(e);e.addEventListener("submit",(function(n){n.preventDefault(),t.validate()?e.submit():setTimeout((function(){t.reset()}),5e3)}))}))},inputMasking=function(){document.querySelectorAll(".js-mask-phone").forEach((function(e){e.addEventListener("input",(function(e){VMasker(e.target).maskPattern("(999) 999-99-99")}))}))},inputsFilter=function(){document.querySelectorAll(".js-only-digits").forEach((function(e){e.addEventListener("input",(function(e){e.target.value=e.target.value.replace(/\D/g,"")}))}))},preloader=function(){var e=document.querySelector(".preloader"),t=document.querySelector(".preloader__body"),n=document.querySelector("body");e&&(n.classList.add("lock"),new Promise((function(e){setTimeout(e,800)})).then((function(){t.style.display="none",e.classList.add("is-loaded"),n.classList.remove("lock")})))},addToFavourite=function(){var e=document.querySelector(".js-add-to-favourite");e&&e.addEventListener("click",(function(t){e.querySelector(".icon-heart").classList.toggle("is-favourite")}))},dropdownMenu=function(){var e=document.querySelector(".js-dropdown-menu");e&&e.addEventListener("click",(function(e){e.target.closest(".js-dropdown-btn")&&(e.preventDefault(),e.target.closest(".js-dropdown-menu").querySelector(".dropdown-menu").classList.add("is-opened")),document.body.addEventListener("click",(function(e){e.target.classList.contains("dropdown-menu")&&document.querySelector(".dropdown-menu").classList.remove("is-opened")}))}))},tabs=function(){document.querySelectorAll(".js-tabs-trigger").forEach((function(e){e.addEventListener("click",(function(t){t.preventDefault();var n=t.target.getAttribute("href");document.querySelectorAll(".js-tabs-trigger").forEach((function(e){e.classList.remove("is-active")})),document.querySelectorAll(".js-tabs-content").forEach((function(e){e.classList.remove("is-active")})),e.classList.add("is-active"),document.querySelector(n).classList.add("is-active")}))}))},selectors=function(){document.querySelectorAll(".selector").forEach((function(e){var t=e.querySelector(".selector__current"),n=e.querySelector(".selector__options"),o=e.querySelector(".selector__input"),r=e.querySelectorAll(".selector__option");t.addEventListener("click",(function(){n.closest(".selector").classList.toggle("is-shown")})),r.forEach((function(e){e.addEventListener("click",(function(){var n=e.getAttribute("data-value"),r=e.textContent;o.value=n,t.textContent=r,i()}))}));var i=function(){n.closest(".selector").classList.remove("is-shown")};document.addEventListener("mouseup",(function(t){e.contains(t.target)||i()}))}))},profileShowBio=function(){var e=document.querySelector(".js-button-unfold"),t=document.querySelector(".instructor-profile__text");e&&e.addEventListener("click",(function(n){t.classList.toggle("is-shown"),t.classList.contains("is-shown")?e.textContent="Свернуть":e.textContent="Развернуть"}))},filterSlider=function(){var e=document.querySelector(".filter-slider__line"),t=[document.querySelector(".filter-slider__input--from"),document.querySelector(".filter-slider__input--to")];e&&(noUiSlider.create(e,{start:[5,15],connect:!0,tooltips:[!0,wNumb({decimals:0})],range:{min:0,max:40},format:wNumb({decimals:0,thousand:""})}),e.noUiSlider.on("update",(function(e,n){t[n].value=e[n]})),t.forEach((function(t,n){t.addEventListener("change",(function(){e.noUiSlider.setHandle(n,this.value)}))})))},filterItem=function(){var e=document.querySelector(".js-filter-body");e&&e.addEventListener("click",(function(e){e.target.closest(".filter-item")&&e.target.closest(".filter-item").classList.toggle("is-opened")}))};document.addEventListener("DOMContentLoaded",(function(){preloader(),imgToBackground(),burgerMenu("menu-header"),popups(),formValidation(),inputMasking(),inputsFilter(),sliders(),filterItem(),filterSlider(),profileShowBio(),selectors(),tabs(),dropdownMenu(),addToFavourite(),svg4everybody()}));